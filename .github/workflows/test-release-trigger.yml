name: "Trigger Test Boundary UI release"

on:
  workflow_dispatch:
    inputs:
      branch:
        description: Please use tag-like format n.n.n-someword (1.111.11-beta)
        required: true

jobs:
  trigger-circleci-release:
    runs-on: ubuntu-latest
    steps:
      - name: Release description
        if: github.event_name == 'workflow_dispatch'
        run: |
          echo "Triggering Test release using BRANCH and TEST_TAG ${{ github.event.inputs.branch }}"
      - name: Trigger Release workflow in boundary-ui-releases
        uses: benc-uk/workflow-dispatch@798e70c97009500150087d30d9f11c5444830385
        with:
          workflow: release.yml
          repo: hashicorp/boundary-ui-releases
          token: "${{ secrets.ELEVATED_GITHUB_TOKEN }}"
          inputs: '{ "TAG": "${{ github.event.inputs.branch }}" }'

