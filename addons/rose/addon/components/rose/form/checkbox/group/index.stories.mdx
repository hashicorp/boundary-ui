import { Meta, Story, Preview } from '@storybook/addon-docs';
import { hbs } from 'ember-cli-htmlbars';

<Meta title="Rose/Form/Checkbox/Group" component="Form/Checkbox/Group" />

# Form checkboxfield group

Renders a form checkboxfield group.

```handlebars
<Rose::Form::Checkbox::Group
  @name='checkbox-group'
  @items={{this.items}}
  @selectedItems={{this.selectedItems}}
  @onChange={{fn this.onChange}}
  as |group|
>
  <group.checkbox @label={{group.item.name}} value={{group.item.id}} />
</Rose::Form::Checkbox::Group>
```

export const Template = (args) => ({
  template: hbs`
      <Rose::Form::Checkbox::Group
      @name={{name}}
      @inline={{inline}}
      @disabled={{disabled}}
      @items={{items}}
      @selectedItems={{selectedItems}}
      @onChange={{onChange}}
      @itemEqualityFunc={{itemEqualityFunc}}
      as |group|
    >
      <group.checkbox
        @label={{group.item.name}}
        value={{group.item.id}} />
    </Rose::Form::Checkbox::Group>`,
  context: args,
});

<Preview>
  <Story
    name="Basic"
    height="10rem"
    args={{
      name: 'Name',
      inline: true,
      disabled: false,
      items: [
        { id: 1, name: 'Foo' },
        { id: 2, name: 'Bar' },
        { id: 3, name: 'Baz' },
      ],
      selectedItems: [],
    }}
    argTypes={{
      onChange: { action: 'changed' },
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

```handlebars
<Rose::Form::Checkbox::Group
  @name='checkbox-group'
  @items={{this.items}}
  @selectedItems={{this.selectedItems}}
  @onChange={{fn this.onChange}}
  @itemEqualityFunc={{this.isEqual}}
  as |group|
>
  <group.checkbox @label={{group.item.name}} value={{group.item.id}} />
</Rose::Form::Checkbox::Group>
```

<Preview>
  <Story
    name="WithCustomEquality"
    height="10rem"
    args={{
      name: 'Name',
      inline: true,
      disabled: false,
      items: [
        { id: 1, name: 'Foo' },
        { id: 2, name: 'Bar' },
        { id: 3, name: 'Baz' },
      ],
      selectedItems: [{ id: 1, name: 'Foo' }],
      itemEqualityFunc: (item1, item2) => item1.name === item2.name,
    }}
    argTypes={{
      onChange: { action: 'changed' },
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>
