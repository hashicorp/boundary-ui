{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

<Rose::Dropdown
  @text={{t 'actions.manage'}}
  @dropdownRight={{true}}
  as |dropdown|
>
  {{#if (can 'addHostSources target' @model)}}
    <dropdown.link @route='scopes.scope.targets.target.add-host-sources'>
      {{t 'resources.target.actions.add-host-sources'}}
    </dropdown.link>
  {{/if}}
  {{#if (can 'addBrokeredCredentialSources target' @model)}}
    <dropdown.link
      @route='scopes.scope.targets.target.add-brokered-credential-sources'
      data-test-add-brokered-cred-sources-action
    >
      {{t 'resources.target.actions.add-brokered-credential-sources'}}
    </dropdown.link>
  {{/if}}

  {{#if (can 'addInjectedApplicationCredentialSources target' @model)}}
    <dropdown.link
      @route='scopes.scope.targets.target.add-injected-application-credential-sources'
      data-test-add-injected-cred-sources-action
    >
      {{t
        'resources.target.actions.add-injected-application-credential-sources'
      }}
    </dropdown.link>
  {{/if}}
  {{#if (feature-flag 'target-worker-filters-v2-ingress')}}
    <dropdown.link
      @route='scopes.scope.targets.target.add-ingress-worker-filter'
      data-test-add-ingress-worker-filter-action
    >
      {{t 'resources.target.workers.actions.add-ingress-worker-filter'}}
    </dropdown.link>
  {{/if}}
  <dropdown.link
    @route='scopes.scope.targets.target.add-egress-worker-filter'
    data-test-add-egress-worker-filter-action
  >
    {{t 'resources.target.workers.actions.add-egress-worker-filter'}}
  </dropdown.link>
  {{#if (can 'delete model' @model)}}
    <dropdown.separator />
    <dropdown.button
      @style='danger'
      @disabled={{@model.canSave}}
      {{on 'click' (fn @delete @model)}}
    >
      {{t 'resources.target.actions.delete'}}
    </dropdown.button>
  {{/if}}
</Rose::Dropdown>