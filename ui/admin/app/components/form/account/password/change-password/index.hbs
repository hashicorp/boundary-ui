<Rose::Form
  class='full-width'
  @onSubmit={{fn this.submit @submit this.currentPassword this.newPassword}}
  @cancel={{fn this.cancel @cancel}}
  @disabled={{@model.isSaving}}
  as |form|
>

  <form.input
    @name='currentPassword'
    @type='password'
    @value={{this.currentPassword}}
    @label={{t 'form.current_password.label'}}
    @error={{@model.errors.name}}
    readonly={{false}}
    autocomplete='current-password'
    as |field|
  >
    {{#if @model.errors.name}}
      <field.errors as |errors|>
        {{#each @model.errors.name as |error|}}
          <errors.message>{{error.message}}</errors.message>
        {{/each}}
      </field.errors>
    {{/if}}
  </form.input>

  <form.input
    @name='newPassword'
    @type='password'
    @value={{this.newPassword}}
    @label={{t 'form.new_password.label'}}
    @error={{@model.errors.name}}
    readonly={{false}}
    autocomplete='new-password'
    as |field|
  >
    {{#if @model.errors.name}}
      <field.errors as |errors|>
        {{#each @model.errors.name as |error|}}
          <errors.message>{{error.message}}</errors.message>
        {{/each}}
      </field.errors>
    {{/if}}
  </form.input>

  <form.actions
    @submitDisabled={{this.cannotSave}}
    @submitText={{t 'actions.save'}}
    @cancelText={{t 'actions.cancel'}}
  />

</Rose::Form>