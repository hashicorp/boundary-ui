{{!
  Copyright IBM Corp. 2021, 2025
  SPDX-License-Identifier: BUSL-1.1
}}

<Rose::Form
  class='full-width'
  @onSubmit={{fn this.submit @submit this.currentPassword this.newPassword}}
  @cancel={{fn this.cancel @cancel}}
  @disabled={{@model.isSaving}}
  as |form|
>

  <Hds::Form::TextInput::Field
    @isRequired={{true}}
    @value={{this.currentPassword}}
    @type='password'
    name='currentPassword'
    autocomplete='current-password'
    disabled={{form.disabled}}
    {{on 'input' (set-from-event this 'currentPassword')}}
    as |F|
  >
    <F.Label>{{t 'form.current_password.label'}}</F.Label>
  </Hds::Form::TextInput::Field>

  <Hds::Form::TextInput::Field
    @isRequired={{true}}
    @value={{this.newPassword}}
    @type='password'
    name='newPassword'
    autocomplete='new-password'
    disabled={{form.disabled}}
    {{on 'input' (set-from-event this 'newPassword')}}
    as |F|
  >
    <F.Label>{{t 'form.new_password.label'}}</F.Label>
  </Hds::Form::TextInput::Field>

  <form.actions
    @submitDisabled={{this.cannotSave}}
    @submitText={{t 'actions.save'}}
    @cancelText={{t 'actions.cancel'}}
  />

</Rose::Form>