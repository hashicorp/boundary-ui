{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

<Hds::Table class='list-wrapper-field' name={{@name}}>

  <:body as |B|>

    {{#each @options as |option index|}}
      <B.Tr>
        <B.Td>
          <Hds::Form::TextInput::Field
            @type='text'
            @value={{option.value}}
            disabled={{@disabled}}
            aria-label={{t 'titles.value'}}
            data-test-input={{option.value}}
            {{on 'input' (set-from-event option 'value')}}
          />
        </B.Td>

        <B.Td>
          {{#if this.removeOptionByIndex}}
            <Hds::Button
              @text={{t 'actions.remove'}}
              @color='critical'
              @icon='trash'
              @isIconOnly={{true}}
              disabled={{@disabled}}
              data-test-remove-button={{option.value}}
              {{on 'click' (fn this.removeOptionByIndex index)}}
            />
          {{/if}}
        </B.Td>
      </B.Tr>
    {{/each}}

    <B.Tr>

      <B.Td>
        <Hds::Form::TextInput::Field
          @type='text'
          @value={{this.newOptionValue}}
          disabled={{@disabled}}
          aria-label={{t 'titles.value'}}
          data-test-input-new-output
          {{on 'input' (set-from-event this 'newOptionValue')}}
        />
      </B.Td>

      <B.Td>
        <Hds::Button
          type='button'
          @text={{t 'actions.add'}}
          @color='secondary'
          disabled={{or @disabled (not this.newOptionValue)}}
          data-test-add-button
          {{on 'click' this.addOption}}
        />
      </B.Td>
    </B.Tr>

  </:body>
</Hds::Table>