{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{!TODO Refactor page to use hds dropdown in ICU-13879}}
<Rose::Dropdown
  @text={{t 'actions.manage'}}
  @dropdownRight={{true}}
  as |dropdown|
>
  {{#if (can 'addPrincipals role' @model)}}
    <dropdown.link
      @route='scopes.scope.roles.role.add-principals'
      data-test-manage-dropdown-principals
    >
      {{t 'resources.role.principal.actions.add-principals'}}
    </dropdown.link>
  {{/if}}

  {{#if (can 'setGrantScopes role' @model)}}
    <dropdown.link
      @route='scopes.scope.roles.role.manage-scopes'
      data-test-manage-dropdown-scopes
    >
      {{t 'resources.role.scope.actions.manage-scopes'}}
    </dropdown.link>
  {{/if}}

  {{#if (can 'delete model' @model)}}
    <dropdown.separator />
    <dropdown.button
      @style='danger'
      @disabled={{@model.canSave}}
      {{on 'click' (fn @delete @model)}}
    >
      {{t 'resources.role.actions.delete'}}
    </dropdown.button>
  {{/if}}
</Rose::Dropdown>



<Hds::Dropdown as |dd|>
  <dd.ToggleButton @text= {{t 'actions.manage'}} @color ='secondary'/>
  {{#if (can 'addPrincipals role' @model)}}
    <dd.Interactive
      @text={{t 'resources.role.principal.actions.add-principals'}}
      @route = 'scopes.scope.roles.role.add-principals'
    />
  {{/if}}
  {{#if (can 'delete model' @model)}}
    <dd.Separator />
    <dd.Interactive
      @text={{t 'resources.role.actions.delete'}}
      @color='critical'
      @disabled={{@model.canSave}}
      {{on 'click' (fn @delete @model)}}
    />
  {{/if}}
 </Hds::Dropdown>