{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{page-title
  (t 'resources.target.actions.add-injected-application-credential-sources')
}}
<Breadcrumbs::Item
  @text={{t
    'resources.target.actions.add-injected-application-credential-sources'
  }}
  @route='scopes.scope.targets.target.add-injected-application-credential-sources'
/>

<Rose::Layout::Page as |page|>

  <page.header>
    <Hds::PageHeader as |PH|>
      <PH.Breadcrumb>
        <Breadcrumbs::Container />
      </PH.Breadcrumb>
      <PH.Title>
        {{t
          'resources.target.injected-application-credential-source.messages.add.title'
        }}
      </PH.Title>
      <PH.Description>
        {{t
          'resources.target.injected-application-credential-source.messages.add.description'
        }}
      </PH.Description>
    </Hds::PageHeader>
  </page.header>

  <page.body>
    {{#if this.hasAvailableInjectedApplicationCredentialSources}}
      <Form::Target::AddInjectedApplicationCredentialSources
        @model={{@model.target}}
        @filteredCredentialSources={{this.filteredCredentialSources}}
        @submit={{fn this.save @model.target}}
        @cancel={{this.cancel}}
      />
    {{/if}}

    {{#unless this.hasAvailableInjectedApplicationCredentialSources}}
      <Rose::Layout::Centered>
        <Hds::ApplicationState as |A|>
          <A.Header
            @title={{t
              'resources.target.injected-application-credential-source.messages.none.title'
            }}
          />
          <A.Body
            @text={{t
              'resources.target.injected-application-credential-source.messages.none.description'
            }}
          />
          <A.Footer as |F|>
            <F.LinkStandalone
              @icon='arrow-left'
              @text={{t 'actions.back'}}
              @route='scopes.scope.targets.target.injected-application-credential-sources'
            />
          </A.Footer>
        </Hds::ApplicationState>
      </Rose::Layout::Centered>
    {{/unless}}
  </page.body>

</Rose::Layout::Page>