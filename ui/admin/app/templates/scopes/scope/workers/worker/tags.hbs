{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{page-title (t 'resources.worker.tags.title_plural')}}
<Breadcrumbs::Item
  @text={{t 'resources.worker.tags.title_plural'}}
  @route='scopes.scope.workers.worker.tags'
/>

<Rose::Layout::Page as |page|>

  <page.breadcrumbs>
    <Breadcrumbs::Container />
  </page.breadcrumbs>

  <page.header>
    <Workers::Worker::Header @model={{@model}} />
  </page.header>

  <page.navigation>
    <Workers::Worker::Nav />
  </page.navigation>

  <page.actions>
    <Workers::Worker::Actions
      @model={{@model}}
      @delete={{this.workers.delete}}
    />
  </page.actions>

  <page.body>
    {{#if @model.allTags}}
      <Hds::Table
        @model={{@model.allTags}}
        @columns={{array
          (hash label=(t 'resources.worker.table.key'))
          (hash label=(t 'resources.worker.table.value'))
          (hash label=(t 'resources.worker.table.type'))
          (hash label=(t 'titles.actions') isVisuallyHidden=true width='60px')
        }}
        @valign='middle'
      >
        <:body as |B|>
          <B.Tr>
            <B.Td>
              <Hds::Text::Code @tag='pre'>{{B.data.key}}</Hds::Text::Code>
            </B.Td>
            <B.Td>
              <Hds::Text::Code @tag='pre'>{{B.data.value}}</Hds::Text::Code>
            </B.Td>
            <B.Td>
              {{#if (eq B.data.type this.tagTypeConfig)}}
                <Hds::TooltipButton
                  @text={{t 'resources.worker.tooltip'}}
                  @offset={{array -50 8}}
                >
                  <Hds::Badge @text={{B.data.type}} />
                </Hds::TooltipButton>
              {{else}}
                <Hds::Badge @text={{B.data.type}} />
              {{/if}}
            </B.Td>
            <B.Td>
              <Hds::Dropdown as |dd|>
                <dd.ToggleIcon
                  @icon='more-horizontal'
                  @text='Overflow Options'
                  @hasChevron={{false}}
                  @size='small'
                />
                <dd.Interactive
                  @text={{t 'resources.worker.tags.actions.remove'}}
                />
              </Hds::Dropdown>
            </B.Td>
          </B.Tr>
        </:body>
      </Hds::Table>
    {{/if}}

  </page.body>

</Rose::Layout::Page>