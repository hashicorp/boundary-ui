{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{page-title (t 'resources.credential-store.worker-filter.title')}}
<Breadcrumbs::Item
  @text={{t 'resources.credential-store.worker-filter.title'}}
  @route='scopes.scope.credential-stores.credential-store.worker-filter'
/>

<Rose::Layout::Page as |page|>
  <page.breadcrumbs>
    <Breadcrumbs::Container />
  </page.breadcrumbs>

  <page.header>
    <CredentialStores::CredentialStore::Header @model={{@model}} />
  </page.header>

  <page.navigation>
    <CredentialStores::CredentialStore::Nav @model={{@model}} />
  </page.navigation>

  <page.actions>
    <CredentialStores::CredentialStore::Actions
      @model={{@model}}
      @delete={{fn this.credentialStores.delete @model}}
    />
  </page.actions>

  <page.body>
    {{#if @model.worker_filter}}
      <Hds::CodeBlock
        data-test-formatted-worker-filter
        @language='bash'
        @value={{@model.worker_filter}}
        @hasCopyButton={{true}}
        as |CB|
      >
        <CB.Title>
          {{t 'resources.credential-store.worker-filter.title'}}
        </CB.Title>
        <CB.Description>
          {{t 'resources.credential-store.worker-filter.description'}}
        </CB.Description>
      </Hds::CodeBlock>
    {{else}}
      <Rose::Layout::Centered>
        <Hds::ApplicationState data-test-worker-filter-empty-state as |A|>
          <A.Header
            @title={{t
              'resources.credential-store.worker-filter.messages.none.title'
            }}
          />
          <A.Body
            @text={{t
              'resources.credential-store.worker-filter.messages.none.description'
            }}
          />
          <A.Footer as |F|>
            <F.LinkStandalone
              @icon='plus-circle'
              @text={{t 'resources.credential-store.actions.add'}}
              @route='scopes.scope.credential-stores.credential-store.edit-worker-filter'
            />
          </A.Footer>
        </Hds::ApplicationState>
      </Rose::Layout::Centered>
    {{/if}}
  </page.body>
</Rose::Layout::Page>