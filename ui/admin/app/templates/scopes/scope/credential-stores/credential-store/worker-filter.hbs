{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{page-title (t 'resources.credential-store.titles.worker-filter')}}

<Rose::Layout::Page as |page|>
  <page.breadcrumbs>
    <Breadcrumbs::Container />
  </page.breadcrumbs>

  <page.header>
    <CredentialStores::CredentialStore::Header @model={{@model}} />
  </page.header>

  <page.navigation>
    <CredentialStores::CredentialStore::Nav @model={{@model}} />
  </page.navigation>

  <page.actions>
    <CredentialStores::CredentialStore::Actions
      @model={{@model}}
      @delete={{fn this.credentialStores.delete @model}}
    />
  </page.actions>

  <page.body>
    <Rose::Layout::Centered>
      {{#if @model.worker_filter}}
        <div class='formatted-worker-filter'>
          <Hds::CodeBlock
            @language='bash'
            @value={{@model.worker_filter}}
            @hasCopyButton={{true}}
            as |CB|
          >
            <CB.Title>
              {{t 'resources.credential-store.titles.worker-filter'}}
            </CB.Title>
            <CB.Description>
              {{t
                'resources.credential-store.titles.formatted-worker-filter.description'
              }}
            </CB.Description>
          </Hds::CodeBlock>
        </div>
      {{else}}
        <Hds::ApplicationState as |A|>
          <A.Header
            @title={{t 'resources.credential-store.messages.no-filter.title'}}
          />
          <A.Body
            @text={{t
              'resources.credential-store.messages.no-filter.description'
            }}
          />
          <A.Footer as |F|>
            <F.LinkStandalone
              @icon='plus-circle'
              @text={{t 'resources.credential-store.actions.add'}}
              @route='scopes.scope.credential-stores.credential-store.edit-worker-filter'
            />
          </A.Footer>
        </Hds::ApplicationState>
      {{/if}}
    </Rose::Layout::Centered>
  </page.body>
</Rose::Layout::Page>