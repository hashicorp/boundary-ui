<HeadLayout />
{{title (app-name)}}

<Rose::Layout::Global as |layout|>

  <layout.header>
    <Rose::Header as |header|>
      <header.brand @logo="logo-hashi" @text={{app-name}} />

      {{!--
      <header.nav as |nav|>
        <nav.dropdown @text={{t 'dev.default-org'}} as |dropdown|>
          <dropdown.link @route="index">{{t 'dev.menu-item'}}</dropdown.link>
          <dropdown.link @route="orgs">{{t 'dev.menu-item'}}</dropdown.link>
          <dropdown.button>{{t 'dev.button-menu-item'}}</dropdown.button>
        </nav.dropdown>
        <nav.link @route="index">{{t 'dev.section'}}</nav.link>
        <nav.link @route="index">{{t 'dev.section'}}</nav.link>
      </header.nav>
      --}}

      {{#if this.session.isAuthenticated}}
        <header.utilities as |utilities|>
          <utilities.dropdown
            @text="user@example.net"
            @iconOnly={{true}}
            @icon="user-square-fill" as |dropdown|
          >
            <dropdown.button {{on "click" (route-action "invalidateSession")}}>
              {{t 'actions.deauthenticate'}}
            </dropdown.button>
          </utilities.dropdown>
        </header.utilities>
      {{/if}}

    </Rose::Header>
  </layout.header>

  <layout.body>
    {{outlet}}
  </layout.body>

</Rose::Layout::Global>

<EmberNotify @closeAfter={{4000}} as |message close|>
  <Rose::Notification
    @style={{message.type}}
    @heading={{t (concat 'states.' message.type)}}
    @dismiss={{close}}
    @dismissText={{t 'actions.dismiss'}}
  >
    {{message.text}}
  </Rose::Notification>
</EmberNotify>
