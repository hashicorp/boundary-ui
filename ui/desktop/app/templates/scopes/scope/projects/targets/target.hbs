{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

{{page-title @model.target.displayName}}

<Rose::Layout::Page as |page|>

  <page.header>
    <Hds::PageHeader as |PH|>
      <PH.IconTile @color='boundary' @icon='target' />
      <PH.Title class='target-details-header'>
        {{@model.target.displayName}}
      </PH.Title>
      {{#if (can 'connect target' @model.target)}}
        <PH.Actions>
          {{#if (and @model.target.isRDP this.rdp.isPreferredRdpClientSet)}}
            <Hds::Button
              data-test-target-detail-connect-button
              @text={{if
                (gt @model.hosts.length 1)
                (t 'resources.session.actions.quick-connect')
                (t 'resources.session.actions.connect')
              }}
              @color='secondary'
              {{on 'click' (fn this.connect @model.target)}}
            />
            <Hds::Button
              data-test-target-detail-open-button
              @text={{t 'actions.open'}}
              @icon='external-link'
              @iconPosition='trailing'
              {{on 'click' (fn this.connectAndLaunchRdp @model.target)}}
            />
          {{else}}
            <Hds::Button
              data-test-target-detail-connect-button
              @text={{if
                (gt @model.hosts.length 1)
                (t 'resources.session.actions.quick-connect')
                (t 'resources.session.actions.connect')
              }}
              @icon='entry-point'
              @iconPosition='trailing'
              {{on 'click' (fn this.connect @model.target)}}
            />
          {{/if}}
        </PH.Actions>
      {{/if}}
    </Hds::PageHeader>
  </page.header>

  <page.body class='details-screen-body'>
    {{outlet}}
  </page.body>

</Rose::Layout::Page>